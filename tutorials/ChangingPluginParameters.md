# Overview #

The RobotX-specific behavior of the models and the environment is generated by a set of [Gazebo Model Plugins](http://gazebosim.org/tutorials?tut=plugins_hello_world).  The current models used in these plugins is described in the Theory of Operation Document [PDF on Github](https://github.com/bsb808/robotx_docs/blob/master/theoryofoperation/theory_of_operation.pdf).  The parameters of the associated models (USV drag coefficient, wind speed, etc.) can be changed through the use of SDF configuration files.

This tutorial briefly describes where the base parameter files, those that are included with this repository, are stored so that users can change the parameters to test their solutions under a variety of conditions.

| Description | File Location | Notes |
|-------------|---------------|------ |
| Hydrodynamic parameters (drag, added mass, etc.) | robotx_gazebo/urdf/wamv_gazebo_dynamics_plugin.xacro | Current parameters based on FAU Publication https://doi.org/10.1016/j.oceaneng.2016.09.037 |
| Wave characteristics (amplitude, period and direction for three constituents) |  robotx_gazebo/urdf/wamv_gazebo_dynamics_plugin.xacro | Values correspond to same values used in visual texture |
| Propulsion characteristics (linear or nonlinear mapping and force limits) | robotx_gazebo/urdf/wamv_gazebo_thrust_plugin.xacro | Nonlinear mapping is based on experimental results from FAU https://doi.org/10.1016/j.oceaneng.2016.09.037 |
| Wind velocity and windage coefficients | robotx_gazebo/urdf/wamv_gazebo_wind_plugin.xacro | Windage coefficeints from same FAU report https://doi.org/10.1016/j.oceaneng.2016.09.037 |

# Example: Changing the Wave Field #

As an illustrative example, we'll go through testing the simulation with different wave scenarios.  The wave field characteristics are defined in `robotx_gazebo/urdf/wamv_gazebo_dynamics_plugin.xacro`.  When we open the file we see a section that looks like this...

```
	<!-- Waves x3 -->
	<wave_n>3</wave_n>

	<wave_amp0>0.06</wave_amp0>
	<wave_period0>12.6</wave_period0>
	<wave_direction0>-1 0</wave_direction0>

	<wave_amp1>0.04</wave_amp1>
	<wave_period1>3.7</wave_period1>
	<wave_direction1>-0.7 0.7</wave_direction1>

	<wave_amp2>0.03</wave_amp2>
	<wave_period2>6.3</wave_period2>
	<wave_direction2>0.7 0.7</wave_direction2>
```

This specifies our Gerstner wave field as having three components as specifying the amplitude, period and direction for each component.